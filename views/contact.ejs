<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact Us | YourBrand</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
</head>
<body class="bg-gray-50 text-gray-900 font-sans">

  <section class="py-16 px-6 md:px-20">
    <div class="max-w-4xl mx-auto bg-white p-10 rounded-xl shadow-lg">
      <h2 class="text-3xl font-bold mb-6 text-center text-blue-600">Contact Us</h2>
      
      <form id="contactForm" class="space-y-6">
        <div>
          <label class="block font-medium mb-1">Name</label>
          <input type="text" name="name" required class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
        </div>

        <div>
          <label class="block font-medium mb-1">Email</label>
          <input type="email" name="email" required class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
        </div>

        <div>
          <label class="block font-medium mb-1">Phone</label>
          <input type="tel" name="phone" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
        </div>

        <div>
          <label class="block font-medium mb-1">Message</label>
          <textarea name="message" required rows="5" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"></textarea>
        </div>

        <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition duration-200">
          Send Message
        </button>

        <p id="responseMessage" class="text-center text-green-600 font-semibold mt-4 hidden">Your message has been sent!</p>

        <!-- Home button (hidden by default) -->
        <div id="homeButton" class="text-center mt-6 hidden">
          <a href="/" class="inline-block px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition duration-200">Back to Home</a>
        </div>
      </form>
    </div>
  </section>

  <script>
    const form = document.getElementById("contactForm");
    const responseMsg = document.getElementById("responseMessage");
    const homeBtn = document.getElementById("homeButton");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const formData = {
        name: form.name.value,
        email: form.email.value,
        phone: form.phone.value,
        message: form.message.value,
      };

      try {
        const res = await fetch("https://nextdev.onrender.com/api/contact", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(formData),
        });

        const data = await res.json();
        if (data.success) {
          responseMsg.textContent = data.message;
          responseMsg.classList.remove("hidden", "text-red-600");
          responseMsg.classList.add("text-green-600");
          form.reset();

          // Show the Home button
          homeBtn.classList.remove("hidden");
        } else {
          responseMsg.textContent = "Something went wrong!";
          responseMsg.classList.remove("text-green-600");
          responseMsg.classList.add("text-red-600");
          responseMsg.classList.remove("hidden");
        }
      } catch (err) {
        console.error("Error:", err);
        responseMsg.textContent = "Server error!";
        responseMsg.classList.remove("hidden");
        responseMsg.classList.add("text-red-600");
      }
    });
  </script>

</body>
</html>
